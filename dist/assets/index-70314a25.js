(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}})();function s(){var i=new XMLHttpRequest;i.open("GET","quizz.txt",!1),i.send();for(var l=i.responseText.split(`
`),r=[],n=0;n<l.length;n++){for(var e=l[n].replace(`
`,"").split(";"),t={title:e[0],isSingleAnswerQuestion:e[1]==="true",responses:[]},o=2;o<e.length;o++)t.responses.push(e[o]);r.push(t)}return console.log(r),console.log(r[0].isSingleAnswerQuestion),r}function a(i){let l="";i.forEach(n=>{l+=`<div class="form-group">
                    <label>${n.title}</label><br>`,n.responses.forEach(e=>{let t=n.isSingleAnswerQuestion?"radio":"checkbox";l+=`<div class="form-check form-check-inline">
                      <input class="form-check-input" type="${t}" name="${n.title}" id="${n.title}-${e}" value="${e}">
                      <label class="form-check-label d-block" for="${n.title}-${e}">${e}</label>
                    </div>`}),l+="</div>"}),l+=`<button class="btn btn-primary" id="submitButton">Envoyer</button>
                 <button class="btn btn-danger" id="finishButton">Finir</button>`,document.getElementById("body").innerHTML=l;let r={};document.getElementById("submitButton").addEventListener("click",function(){i.forEach(n=>{let e=document.getElementsByName(n.title);e.forEach(t=>{t.checked&&(r[n.title]||(r[n.title]={}),r[n.title][t.value]||(r[n.title][t.value]=0),r[n.title][t.value]++)}),e.forEach(t=>{t.checked=!1})})}),document.getElementById("finishButton").addEventListener("click",function(){let n=`Title;Response;Count
`;Object.keys(r).forEach(o=>{Object.keys(r[o]).forEach(c=>{n+=`${o};${c};${r[o][c]}
`})});let e=new Blob([n],{type:"text/csv"}),t=document.createElement("a");t.href=window.URL.createObjectURL(e),t.download="result.csv",t.click()})}var u=s();a(u);
